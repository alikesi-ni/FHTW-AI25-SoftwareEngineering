<h2>Search Posts by User</h2>

<div class="form-row">
  <label>Username:</label>
  <input
    type="text"
    [(ngModel)]="username"
    name="username"
    placeholder="Enter username"
  />
  <button
    (click)="search()"
    [disabled]="loading || !username.trim()">
    {{ loading ? 'Searching...' : 'Search' }}
  </button>
</div>

@if (error) {
  <p class="error">{{ error }}</p>
}

@if (!loading && posts.length > 0) {
  <h3>Results</h3>

  @for (p of posts; track p.id) {
    <app-post-card [post]="p"></app-post-card>
  }
}

@if (!loading && !error && posts.length === 0 && username.trim()) {
  <p>No posts found for this user.</p>
}
