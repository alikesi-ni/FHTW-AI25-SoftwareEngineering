<h2>All Posts</h2>

@if (loading) {
  <p>Loading posts...</p>
}

@if (error) {
  <p class="error">{{ error }}</p>
}

@if (!loading && posts.length > 0) {
  @for (p of posts; track p.id) {
    <div class="post-card">
      <p><strong>ID:</strong> {{ p.id }}</p>

      @if (p.image) {
        <div class="post-image">
          <img
            [src]="'http://localhost:8000/static/' + p.image"
            alt="Post image {{ p.id }}"
            class="post-image-img"
          />
        </div>
      }

      <p><strong>Comment:</strong> {{ p.comment }}</p>
      <p><strong>Username:</strong> {{ p.username }}</p>
      <p><strong>Created at:</strong> {{ p.created_at }}</p>
      <hr />
    </div>
  }
}

@if (!loading && posts.length === 0) {
  <p>No posts yet.</p>
}
